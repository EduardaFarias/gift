<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feliz formatura :) </title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="fofinhi.css">
</head>
<body>
    <!-- √ÅUDIO -->
    <audio id="intro-audio" src="audio/festa.mp3" preload="auto"></audio>

    <!-- TELA DE ENTRADA (GATINHO) -->
    <div id="intro-overlay" class="overlay">
        <div class="overlay-content">
            <h2 class="overlay-title">
                Oiee, surpresa üéâ<br>
                Clica em qualquer lugar da tela pra ativar o √°udio üíø
            </h2>
            <p class="overlay-subtitle">
                Tem gatinho girando, confete e musiquinha s√≥ pra voc√™
            </p>

            <div class="cat-wrapper">
                <img src="img/gatito.gif" alt="Gatinho fofo" class="cat-gif" id="catGif">
            </div>

            <!-- Bot√£o que abre o livrinho -->
            <button type="button" class="start-btn" id="startBook">
                Come√ßar üéÅ
            </button>
        </div>
    </div>

    <!-- LIVRINHO (fica escondido at√© clicar em Come√ßar) -->
    <div id="book-section" class="book-container" style="display: none;">
        <h1 class="book-title">6 formas de dizer <span>eu te amo</span></h1>

        <div class="book">
            <!-- P√°gina 1 - Chopper -->
            <section class="page active" data-index="0">
                <div class="page-inner">
                    <div class="photo-column">
                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/1.jpg" alt="N√≥s dois">
                            </div>
                            <div class="polaroid-caption">Um cuti cuti üíï</div>
                        </div>

                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/chopper.jpg" alt="Chopper">
                            </div>
                            <div class="polaroid-caption">Chopper</div>
                        </div>
                    </div>

                    <div class="text-column">
                        <p class="love-phrase">
                            Eu te 
                            <span class="love love-chopper">amo</span> 
                            assim como o Chopper ama 
                            <span class="love love-chopper">algod√£o doce</span>.
                        </p>
                    </div>
                </div>
            </section>

            <!-- P√°gina 2 - Zoro -->
            <section class="page" data-index="1">
                <div class="page-inner">
                    <div class="photo-column">
                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/2.jpg" alt="N√≥s dois">
                            </div>
                            <div class="polaroid-caption">Primeiras vezes na vov√≥ üíï</div>
                        </div>

                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/zoro.jpg" alt="Zoro">
                            </div>
                            <div class="polaroid-caption">Zoro</div>
                        </div>
                    </div>

                    <div class="text-column">
                        <p class="love-phrase">
                            Eu te 
                            <span class="love love-zoro">amo</span> 
                            como o Zoro ama 
                            <span class="love love-zoro">beber</span>.
                        </p>
                    </div>
                </div>
            </section>

            <!-- P√°gina 3 - Franky -->
            <section class="page" data-index="2">
                <div class="page-inner">
                    <div class="photo-column">
                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/3.jpg" alt="N√≥s dois">
                            </div>
                            <div class="polaroid-caption">J√° gostava de piscina üèä</div>
                        </div>

                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/franky.jpg" alt="Franky">
                            </div>
                            <div class="polaroid-caption">Franky</div>
                        </div>
                    </div>

                    <div class="text-column">
                        <p class="love-phrase">
                            Eu te 
                            <span class="love love-franky">amo</span> 
                            como o Franky ama 
                            <span class="love love-franky">navios</span>.
                        </p>
                    </div>
                </div>
            </section>

            <!-- P√°gina 4 - Luffy -->
            <section class="page" data-index="3">
                <div class="page-inner">
                    <div class="photo-column">
                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/4.jpg" alt="N√≥s dois">
                            </div>
                            <div class="polaroid-caption">N√≥s dois üíï</div>
                        </div>

                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/luffy.jpg" alt="Luffy">
                            </div>
                            <div class="polaroid-caption">Luffy</div>
                        </div>
                    </div>

                    <div class="text-column">
                        <p class="love-phrase">
                            Eu 
                            <span class="love love-luffy">amo</span> 
                            <strong>voc√™</strong> 
                            como o Luffy ama 
                            <span class="love love-luffy">comer</span>.
                        </p>
                    </div>
                </div>
            </section>

            <!-- P√°gina 5 - Sanji -->
            <section class="page" data-index="4">
                <div class="page-inner">
                    <div class="photo-column">
                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/5.jpg" alt="N√≥s dois">
                            </div>
                            <div class="polaroid-caption">Fofuchu divertidinho ü•∫</div>
                        </div>

                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/sanji.jpg" alt="Sanji">
                            </div>
                            <div class="polaroid-caption">Sanji</div>
                        </div>
                    </div>

                    <div class="text-column">
                        <p class="love-phrase">
                            Eu te 
                            <span class="love love-sanji">amo</span> 
                            como o Sanji ama 
                            <span class="love love-sanji">cozinhar</span>.
                        </p>
                    </div>
                </div>
            </section>

            <!-- P√°gina 6 - Usopp -->
            <section class="page" data-index="5">
                <div class="page-inner">
                    <div class="photo-column">
                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/6.jpg" alt="N√≥s dois">
                            </div>
                            <div class="polaroid-caption">N√≥s dois üíï</div>
                        </div>

                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/usopp.jpg" alt="Usopp">
                            </div>
                            <div class="polaroid-caption">Usopp</div>
                        </div>
                    </div>

                    <div class="text-column">
                        <p class="love-phrase">
                            Eu te 
                            <span class="love love-usopp">amo</span> 
                            como o Usopp ama 
                            <span class="love love-usopp">fugir</span>.
                        </p>
                    </div>
                </div>
            </section>

            <!-- P√°gina 7 - Nami -->
            <section class="page" data-index="6">
                <div class="page-inner">
                    <div class="photo-column">
                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/7.jpg" alt="N√≥s dois">
                            </div>
                            <div class="polaroid-caption">N√≥s dois üíï</div>
                        </div>

                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/nami.jpg" alt="Nami">
                            </div>
                            <div class="polaroid-caption">Nami</div>
                        </div>
                    </div>

                    <div class="text-column">
                        <p class="love-phrase">
                            Eu 
                            <span class="love love-nami">amo</span> 
                            <strong>voc√™</strong> 
                            como a Nami ama 
                            <span class="love love-nami">dinheiro</span>.
                        </p>
                    </div>
                </div>
            </section>

            <!-- P√°gina 8 - Brook -->
            <section class="page" data-index="7">
                <div class="page-inner">
                    <div class="photo-column">
                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/8.jpg" alt="N√≥s dois">
                            </div>
                            <div class="polaroid-caption">Dois nerds nerdolando üïπÔ∏èüëæüéÆ</div>
                        </div>

                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/brook.jpg" alt="Brook">
                            </div>
                            <div class="polaroid-caption">Brook</div>
                        </div>
                    </div>

                    <div class="text-column">
                        <p class="love-phrase">
                            Eu te 
                            <span class="love love-brook">amo</span> 
                            como o Brook ama 
                            <span class="love love-brook">calcinhas</span>.
                        </p>
                    </div>
                </div>
            </section>

            <!-- P√°gina 9 - Jinbe -->
            <section class="page" data-index="8">
                <div class="page-inner">
                    <div class="photo-column">
                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/9.jpg" alt="N√≥s dois">
                            </div>
                            <div class="polaroid-caption">Mandrakesüî•üòé</div>
                        </div>

                        <div class="polaroid">
                            <div class="polaroid-photo">
                                <img src="img/jinbe.jpg" alt="Jinbe">
                            </div>
                            <div class="polaroid-caption">Jinbe</div>
                        </div>
                    </div>

                    <div class="text-column">
                        <p class="love-phrase">
                            Eu 
                            <span class="love love-jinbe">amo</span> 
                            <strong>voc√™</strong> 
                            como o Jinbe ama 
                            <span class="love love-jinbe">karat√™</span>.
                        </p>
                    </div>
                </div>
            </section>
        </div>

        <div class="book-controls">
            <button class="nav-btn" id="prevPage">&larr;</button>
            <button class="nav-btn" id="nextPage"> &rarr;</button>
        </div>

        <!-- Bot√£o pra voltar pro gatinho -->
        <p class="back-link">
            <button type="button" class="nav-btn" id="backToIntro">
                Voltar para o come√ßo 
            </button>
        </p>
    </div>

    <!-- Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

    <!-- SCRIPT: gatinho + √°udio + confetti + troca de telas -->
    <script>
    window.addEventListener("load", function () {
        const audio     = document.getElementById("intro-audio");
        const catGif    = document.getElementById("catGif");
        const startBook = document.getElementById("startBook");
        const overlay   = document.getElementById("intro-overlay");
        const bookSec   = document.getElementById("book-section");
        const backIntro = document.getElementById("backToIntro");

        // üê± Gatinho gira/cresce ao carregar
        if (catGif) {
            catGif.classList.remove("animate");
            void catGif.offsetWidth;
            catGif.classList.add("animate");
        }

        // üéâ Confetti ao carregar
        function startConfetti(durationMs = 2600) {
            if (!window.confetti) return;
            const end = Date.now() + durationMs;
            (function frame() {
                confetti({ particleCount: 6, angle: 60, spread: 55, origin: { x: 0 } });
                confetti({ particleCount: 6, angle: 120, spread: 55, origin: { x: 1 } });
                if (Date.now() < end) requestAnimationFrame(frame);
            })();
        }
        startConfetti();

        // üéµ √ÅUDIO ‚Äì come√ßa na primeira intera√ß√£o (clique/toque)
        if (audio) {
            const SEGMENT1_END   = 1.0;   // at√© 1s
            const SEGMENT2_START = 3.5;   // pula pra 3.5s
            const SEGMENT2_END   = 22.5;  // para em 22.5s

            function configurarSegmentos() {
                audio.currentTime = 0;

                function onTimeUpdate() {
                    const t = audio.currentTime;

                    if (t >= SEGMENT1_END && t < SEGMENT2_START) {
                        audio.currentTime = SEGMENT2_START;
                        return;
                    }

                    if (t >= SEGMENT2_END) {
                        audio.pause();
                        audio.currentTime = SEGMENT2_END;
                        audio.removeEventListener("timeupdate", onTimeUpdate);
                    }
                }

                audio.addEventListener("timeupdate", onTimeUpdate);
            }

            function iniciarAudio() {
                configurarSegmentos();
                audio.play().catch((err) => {
                    console.log("Erro ao tocar √°udio:", err);
                });
            }

            // primeira intera√ß√£o em QUALQUER lugar da tela
            function handleFirstInteraction() {
                iniciarAudio();
                document.removeEventListener("click", handleFirstInteraction);
                document.removeEventListener("touchstart", handleFirstInteraction);
            }

            document.addEventListener("click", handleFirstInteraction, { once: true });
            document.addEventListener("touchstart", handleFirstInteraction, { once: true });
        }

        // üëâ Ir do gatinho pro livrinho
        if (startBook && overlay && bookSec) {
            startBook.addEventListener("click", () => {
                overlay.style.display = "none";
                bookSec.style.display = "block";
                document.body.classList.add("love-page");
            });
        }

        // üëâ Voltar do livrinho pro gatinho
        if (backIntro && overlay && bookSec) {
            backIntro.addEventListener("click", () => {
                bookSec.style.display = "none";
                overlay.style.display = "block";
                document.body.classList.remove("love-page");

                if (catGif) {
                    catGif.classList.remove("animate");
                    void catGif.offsetWidth;
                    catGif.classList.add("animate");
                }
            });
        }
    });
    </script>

    <!-- SCRIPT: navega√ß√£o do livrinho -->
    <script>
        const pages = document.querySelectorAll('.page');
        const prevBtn = document.getElementById('prevPage');
        const nextBtn = document.getElementById('nextPage');
        const indicator = document.getElementById('pageIndicator');

        let currentPage = 0;

        function showPage(index) {
            pages.forEach((page, i) => {
                page.classList.toggle('active', i === index);
            });
            if (indicator) {
                indicator.textContent = (index + 1) + ' / ' + pages.length;
            }
        }

        if (prevBtn && nextBtn && pages.length > 0) {
            prevBtn.addEventListener('click', () => {
                currentPage = (currentPage - 1 + pages.length) % pages.length;
                showPage(currentPage);
            });

            nextBtn.addEventListener('click', () => {
                currentPage = (currentPage + 1) % pages.length;
                showPage(currentPage);
            });

            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight') {
                    nextBtn.click();
                } else if (e.key === 'ArrowLeft') {
                    prevBtn.click();
                }
            });

            showPage(currentPage);
        }
    </script>
</body>
</html>
